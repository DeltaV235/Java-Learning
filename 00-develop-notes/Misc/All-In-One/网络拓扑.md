---
title: 网络拓扑
created: 2024-06-16
tags:
    - All-In-One
    - Network
    - Homelab
---

# 网络拓扑

## 家庭网络拓扑

家用路由器的 LAN 口可以被认为是一个交换机，该交换机与路由器 WAN 口相连，这个 WAN 口的 IP 地址即路由器的 IP 地址。路由器的 DHCP 服务将为所有连接到 LAN 口的设备分配 IP 地址、网关等信息。

![](Pasted%20image%2020240616235513.png)

## 旁路网管

旁路网关模式通常涉及多个网络设备，以确保网络流量根据需要路由。以下是一个简单的旁路网关模式拓扑图的文字描述：

```
[Internet]
    |
[Modem]
    |
[Wireless Router] -- (Direct Traffic) --> [External Network]
    |
[Soft Router] (Configured as Gateway)
    |
[Devices using Soft Router as Gateway]
```

在这个拓扑结构中：
1. **Modem**：连接到互联网，并提供网络连接给无线路由器。
2. **Wireless Router**：接收来自调制解调器的网络连接，并提供无线网络连接给其他设备。它的IP地址可以作为一些设备的网关。
3. **Soft Router**：配置为旁路网关模式，连接在无线路由器与使用它作为网关的设备之间。
4. **Devices**：一些设备使用无线路由器的IP地址作为网关，这些设备的流量会直接通过无线路由器发送到外网，不经过软路由。另一些设备使用软路由的IP地址作为网关，它们的流量会通过软路由进行处理。

你可以用下图更直观地理解这个拓扑结构：

```
        [ Internet ]
             |
          [ Modem ]
             |
       [ Wireless Router ]
        /           \
    (Direct)        [ Soft Router ]
    /                   \
[ Devices ]          [ Devices using Soft Router as Gateway ]
(using Wireless
Router as Gateway)
```

在此拓扑结构中：
- 连接到无线路由器的设备将直接访问外网，流量不经过软路由。
- 通过软路由作为网关的设备，其流量将会经过软路由的处理，然后再访问外网。

![Bypass-Gateway-Mode-Topology.excalidraw](Bypass-Gateway-Mode-Topology.excalidraw.md)
