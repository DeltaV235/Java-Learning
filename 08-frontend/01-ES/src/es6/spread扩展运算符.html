<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spread扩展运算符</title>
</head>

<body>
    <div></div>
    <div></div>
    <div></div>

    <script>
        // 1. ES6 的扩展运算符（spread）是三个点（...）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。
        const array = [1, 2, 3, 4, 5];
        function show() {
            console.log(arguments, typeof arguments); // { '0': [ 1, 2, 3, 4, 5 ] } object
            console.log(arguments[0])
        }

        function show2() {
            console.log(arguments);
        }

        show(array); // [1, 2, 3, 4, 5]
        show2(...array);

        // 2. 扩展运算符的应用
        // 2.1 复制数组
        const a1 = [1, 2];
        const a2 = a1;
        a2[0] = 2;
        console.log(a1); // [2, 2]
        // ES5
        const a3 = [1, 2];
        const a4 = a3.concat();
        a4[0] = 2;
        console.log(a3); // [1, 2]
        // ES6
        const a5 = [1, 2];
        const a6 = [...a5];
        a6[0] = 2;
        console.log(a5); // [1, 2]

        // 2.2 合并数组
        const arr1 = ['a', 'b'];
        const arr2 = ['c'];
        const arr3 = ['d', 'e'];
        // ES5
        console.log(arr1.concat(arr2, arr3)); // [ 'a', 'b', 'c', 'd', 'e' ]
        // ES6
        console.log([...arr1, ...arr2, ...arr3]); // [ 'a', 'b', 'c', 'd', 'e' ]

        // 2.3 将伪数组转为真数组
        const divs = document.querySelectorAll('div');
        console.log(divs, typeof divs, divs[0]);
        const divArray = [...divs];
        console.log(divArray);

        let obj = {
            name: 'Aiden',
            age: 18
        }
        console.log(obj);
        // TypeError: Spread syntax requires ...iterable[Symbol.iterator] to be a function
        console.log(...obj);
    </script>
</body>

</html>